!function t(e,o,s){function n(a,i){if(!o[a]){if(!e[a]){var c="function"==typeof require&&require;if(!i&&c)return c(a,!0);if(r)return r(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=o[a]={exports:{}};e[a][0].call(u.exports,function(t){var o=e[a][1][t];return n(o?o:t)},u,u.exports,t,e,o,s)}return o[a].exports}for(var r="function"==typeof require&&require,a=0;a<s.length;a++)n(s[a]);return n}({1:[function(t,e,o){"use strict";var s=t("../helpers/tools"),n=t("../core/Events"),r=t("../helpers/LikeFormData"),a=function(t){this.currentRequests=0,this.events=new n(["beforeSend","load"]),t&&t.headers&&(this.headers=s.extend(this.headers,t.headers))};a.prototype.headers={"X-Requested-With":"XMLHttpRequest"},a.prototype.send=function(t){var e=this;(null===t.data||void 0===t.data||"undefined"===t.data)&&(t.data=null),t.method||(t.method="POST"),t.headers=t.headers?s.extend(this.headers,t.headers):this.headers;var o,n=new Promise(function(s,n){t.url||(console.error("You should provide url"),n("You should provide url")),e.currentRequests++;var a=!1;"undefined"!=typeof window&&window.XDomainRequest&&window.XMLHttpRequest&&void 0===(new XMLHttpRequest).responseType&&0===url.indexOf("http")?(o=new XDomainRequest,a=!0,o.onprogress=function(e){t.onProgress&&t.onProgress(e)}):(o=new XMLHttpRequest,t.onProgress&&o.upload.addEventListener("progress",function(e){e.lengthComputable&&t.onProgress(e.loaded,e.total)},!1)),o.open(t.method,t.url),o.onload=function(){e.currentRequests--;var r=e._parseJSON(o);r.status?r.status>199&&r.status<300?s(r):r.status>399&&r.status<600?n(r):(console.error("unknown status %d. Rejecting",r.status),n(r)):a?s(r):n(r),t.response=r,e.events.trigger("load",t)},o.onerror=function(){e.currentRequests--,n(Error("Network Error"),o)},e.events.trigger("beforeSend",t);var i;null!==t.data?a?i="IEJSON"+JSON.stringify(t.data):(-1!==t.data.toString().indexOf("FormData")?i=t.data:(i=new r(t.data),t.headers["content-type"]=i.getContentTypeHeader()),e._setHeaders(o,t.headers)):i=null;try{o.send(i)}catch(c){o.send(i.toString())}return o});return t.isReturnXHRToo?[n,o]:n},a.prototype.sendRequest=a.prototype.send,a.prototype._setHeaders=function(t,e){for(var o in e)t.setRequestHeader(o,e[o])},a.prototype._parseJSON=function(t){t.response||(t.response=t.responseText);var e={},o=!1;if(t.getResponseHeader&&(o=t.getResponseHeader("Content-Type")),o&&"application/json"!==o.toLowerCase()&&"text/json"!==o.toLowerCase()&&"inode/symlink"!==o.toLowerCase())e={data:t.response};else try{e=JSON.parse(t.response)}catch(s){console.error("Not a JSON!",t.response),e={data:t.response}}return e.status||(e.status=t.status),"string"==typeof e.status&&0===e.status.indexOf("HTTP/")&&e.status.match(/ (\d\d\d)/)&&(e.status=parseInt(e.status.match(/ (\d\d\d)/)[1])),e.statusText||(e.statusText=t.statusText),t.status&&t.status!=e.status&&console.warn("Status from request %d, but response contains status %d",t.status,e.status),e},e.exports=a},{"../core/Events":4,"../helpers/LikeFormData":9,"../helpers/tools":11}],2:[function(t,e,o){"use strict";var s=function(){};s.prototype.init=function(t,e,o){this.sf=t,this.node=e,this.options=Object.assign(this.grabOptions(e),o)},s.prototype.optionsToGrab={},s.prototype.grabOptions=function(t){var e,o,s={};for(var n in this.optionsToGrab)e=null,this.optionsToGrab.hasOwnProperty(n)&&(o=this.optionsToGrab[n],o.hasOwnProperty("value")&&(e=o.value),this.sf.options.instances[this.name]&&this.sf.options.instances[this.name].hasOwnProperty(n)&&(e=this.sf.options.instances[this.name][n]),o.hasOwnProperty("domAttr")&&t.attributes.hasOwnProperty(o.domAttr)&&(e=t.attributes[o.domAttr].value),o.hasOwnProperty("processor")&&(e=o.processor.call(this,t,e,o)),null!==e&&(s[n]=e));return s},s.prototype.getAddon=function(t,e){return this.spiral.instancesController.getInstanceAddon(this.name,t,e)},e.exports=s},{}],3:[function(t,e,o){"use strict";var s=function(t){if(!t)return void console.error("You should provide instancesController  for DOM Mutation. Because DOM Mutation  should known all classes and");if(!this.constructor)return void console.error("Please call DomMutations with new  - 'new DomMutations()' ");this.instancesController=t;var e={attributes:!0,childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0,attributeOldValue:!0,attributeFilter:["class"]},o=this;this.observer=new MutationObserver(function(){o.onDomMutate.apply(o,arguments)}),this.observer.observe(document,e)};s.prototype.onDomMutate=function(t){var e=this.instancesController.getClasses(),o="."+e.join(",.");return 1===o.length?!1:(t.forEach(function(t){switch(t.type){case"attributes":this.processMutationAttributes(t,e);break;case"characterData":break;case"childList":this.processMutationChildList(t.addedNodes,"addInstance",o,e),this.processMutationChildList(t.removedNodes,"removeInstance",o,e);break;case"default":console.error("Something wrong. Contact tech support")}},this),!0)},s.prototype.processMutationAttributes=function(t,e){var o=this,s=t.target.className.split(" "),n=t.oldValue?t.oldValue.split(" "):[],r=s.filter(function(t){return-1===n.indexOf(t)}),a=n.filter(function(t){return-1===s.indexOf(t)}),i=r.filter(function(t){return-1!==e.indexOf(t)}),c=a.filter(function(t){return-1!==e.indexOf(t)});c.forEach(function(e){o.instancesController.removeInstance(o.instancesController.getInstanceNameByCssClass(e),t.target)}),i.forEach(function(e){o.instancesController.addInstance(o.instancesController.getInstanceNameByCssClass(e),t.target)})},s.prototype.processMutationChildList=function(t,e,o,s){function n(t){s.forEach(function(o){t.classList.contains(o)&&r.instancesController[e](r.instancesController.getInstanceNameByCssClass(o),t)})}var r=this;[].forEach.call(t,function(t){return 1!==t.nodeType||"SCRIPT"===t.nodeName||"LINK"===t.nodeName?!1:(n(t),[].forEach.call(t.querySelectorAll(o),n),!0)})},s.prototype.stopObserve=function(){this.observer.disconnect()},e.exports=s},{}],4:[function(t,e,o){"use strict";var s=function(t){this._storage={},this._allowedEvents=t};s.prototype.on=function(t,e){var o=t.replace(/\s{2,}/g," ").split(" ");o.forEach(function(o){return this._allowedEvents&&-1===this._allowedEvents.indexOf(o)?void console.warn("Events. Try to register event %s, but event is not allowed",o):(this._storage.hasOwnProperty(t)||(this._storage[o]=[]),void this._storage[o].push(e))},this)},s.prototype.registerAction=s.prototype.on,s.prototype.off=function(t,e){alert("You try to remove action. This part is incomplete")},s.prototype.trigger=function(t,e){if(this._allowedEvents&&-1===this._allowedEvents.indexOf(t))return void console.warn("Events. Try to trigger event %s, but event is not allowed",t);if(this._storage.hasOwnProperty(t))for(var o=0,s=this._storage[t].length;s>o;o++)this._storage[t][o](e)},s.prototype.performAction=s.prototype.trigger,e.exports=s},{}],5:[function(t,e,o){"use strict";var s=function(t){return this.spiral=t,this.constructor?void(this._storage={instancesConstructors:{cssClasses:{},jsConstructors:{}},addons:{},instances:{}}):void console.error("Please call InstancesController with new  - 'new InstancesController()' ")};s.prototype.registerInstanceType=function(t,e,o){var s=t.prototype.name;if(s||console.error("Instance constructor should have name inside it"),this._storage.instancesConstructors.jsConstructors.hasOwnProperty(s))return void console.error("Instance Constructor for type '%s' already added. Skipping",s);if(e&&(this._storage.instancesConstructors.cssClasses[e]=s),this._storage.instancesConstructors.jsConstructors[s]=t,this._storage.instances[s]=[],!o)for(var n=document.getElementsByClassName(e),r=0,a=n.length;a>r;r++)this.addInstance(s,n[r])},s.prototype.addInstanceType=function(t,e,o){return console.warn("addInstanceType is deprecated. Please use registerInstanceType instead"),this.registerInstanceType(e,o)},s.prototype.addInstance=function(t,e,o){var s=this._storage.instancesConstructors.jsConstructors[t],n=this.getInstance(t,e);if(!s||n)return!1;var r=new s(this.spiral,e,o);return this._storage.instances[t].push({node:e,instance:r}),r},s.prototype.removeInstance=function(t,e){var o,s=this.getInstance(t,e,!0);return s?(s.instance.die(),o=this._storage.instances[t].indexOf(s),-1!==o&&this._storage.instances[t].splice(o,1),!0):!1},s.prototype.getInstance=function(t,e,o){var s=this._storage.instances[t],n=!1;if(!s)return!1;if(e=e instanceof HTMLElement?e:document.getElementById(e),!e)return!1;for(var r=0,a=s.length;a>r;r++)if(s[r].node===e){n=o?s[r]:s[r].instance;break}return n},s.prototype.registerAddon=function(t,e,o,s){return this._storage.addons.hasOwnProperty(e)||(this._storage.addons[e]={}),this._storage.addons[e].hasOwnProperty(o)||(this._storage.addons[e][o]={}),this._storage.addons[e][o].hasOwnProperty(s)?void console.error("The %s addon type %s already registered for instance %s! Skipping registration.",s,o,e):void(this._storage.addons[e][o][s]=t)},s.prototype.getInstanceAddon=function(t,e,o){return this._storage.addons.hasOwnProperty(t)&&this._storage.addons[t].hasOwnProperty(e)&&this._storage.addons[t][e].hasOwnProperty(o)?this._storage.addons[t][e][o]:!1},s.prototype.getClasses=function(){return Object.keys(this._storage.instancesConstructors.cssClasses)},s.prototype.getInstanceNameByCssClass=function(t){return this._storage.instancesConstructors.cssClasses[t]},s.prototype.getInstanceConstructors=function(t){},e.exports=s},{}],6:[function(t,e,o){"use strict";e.exports=function(t){t.ajax.events.on("load",function(e){var o=e.response;if(o.hasOwnProperty("action"))if("string"==typeof o.action)t.events.trigger(o.action);else if("object"==typeof o.action){var s=Object.keys(o.action);1===s.length?t.events.trigger(s[0],o.action[s[0]],e):2===s.length&&o.action.delay?setTimeout(function(){var n=s.filter(function(t){return"delay"!==t})[0];t.events.trigger(n,o.action[n],e)},+o.action.delay):s.length>1?setTimeout(function(){t.events.trigger(o.action.name,o.action,e)},+o.action.delay||0):console.error("Action from server. Object doesn't have keys. ",o.action)}else console.error("Action from server. Something wrong. ",o.action)})}},{}],7:[function(t,e,o){e.exports=function(t){t.on("redirect",function(t){var e="[object String]"===Object.prototype.toString.call(t)?t:t.url;window.location[/^(?:[a-z]+:)?\/\//i.test(e)?"href":"pathname"]=e}),t.on("reload",function(){location.reload()}),t.on("refresh",function(){t.trigger("reload")}),t.on("close",function(){window.close()})}},{}],8:[function(t,e,o){"use strict";var s=function(){this._DOMEventsStorage=[]};s.prototype.add=function(t){"[object Array]"!==Object.prototype.toString.call([])&&(t=[t]),t.forEach(function(t){t.useCapture=!!t.useCapture,t.DOMNode.addEventListener(t.eventType,t.eventFunction,t.useCapture),this._DOMEventsStorage.push(t)},this)},s.prototype.remove=function(t){console.warn("TODO IMPLEMENT")},s.prototype.removeAll=function(){this._DOMEventsStorage.forEach(function(t){t.DOMNode.removeEventListener(t.eventType,t.eventFunction,t.useCapture)}),this._DOMEventsStorage=[]},e.exports=s},{}],9:[function(t,e,o){"use strict";var s=function(t,e){this.data={},t&&("[object Object]"!==Object.prototype.toString.call(t)?console.warn("LikeFormData can't accept non Object. Please reefer to documentation. Problem parameter is:",t):this.data=t),this.boundary=e?e:"SpiralFormData-"+Math.random().toString().substr(2)};s.prototype.append=function(t,e){this.data[t]=e},s.prototype.toString=function(){var t="",e=this.boundary,o=function(s,n){for(var r in s)s.hasOwnProperty(r)&&"undefined"!=typeof s[r]&&("object"==typeof s[r]?o(s[r],0===n.length?r:n+"["+r+"]"):t+="--"+e+"\r\nContent-Disposition: form-data; name="+(0===n.length?r:n+"["+r+"]")+"\r\n\r\n"+s[r]+"\r\n")};return"object"!=typeof this.data&&(this.data={data:this.data}),o(this.data,""),t+="--"+this.boundary+"--\r\n"},s.prototype["delete"]=function(t){return delete this.data[t]},s.prototype.get=function(t){return this.data[t]},s.prototype.getAll=function(){return this.data},s.prototype.has=function(t){return this.data.hasOwnProperty(t)},s.prototype.set=function(t){this.data[key]=t},s.prototype.getContentTypeHeader=function(){return"multipart/form-data; charset=utf-8; boundary="+this.boundary},e.exports=s},{}],10:[function(t,e,o){e.exports={closest:function(t,e){e="string"==typeof e?[e]:e;for(var o,s=e.length,n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector;t&&t.parentNode;){for(o=0;s>o;o++)if(n.call(t,e[o]))return t;t=t.parentNode}return!1},closestByClassName:function(t,e){e="string"==typeof e?[e]:e;for(var o,s=e.length;t&&t.parentNode;){for(o=0;s>o;o++){var n=new RegExp("(\\s|^)"+e[o]+"(\\s|$)");if(t.className.match(n))return t}t=t.parentNode}return!1}}},{}],11:[function(t,e,o){"use strict";var s={extend:function(){for(var t,e={},o=0;o<arguments.length;o++)if("[object Object]"===Object.prototype.toString.call(arguments[o]))for(t in arguments[o])e[t]=arguments[o][t];else console.warn("Merging allowed only for objects. Passed value:",arguments[o]);return e}};e.exports=s},{}],12:[function(t,e,o){"use strict";function s(t,e,o,r){for(var a in e)if(e.hasOwnProperty(a)){var i=r?r+"["+a+"]":a,c=Object.prototype.toString.call(e[a]),l="[name='"+i+"']";switch(c){case"[object Object]":s(t,e[a],o,i);break;case"[object Array]":e[a].forEach(function(e){var s="[name='"+i+"[]'][value='"+e+"']",r=t.querySelectorAll(s);0===r.length&&(console.warn(s," in Array not found"),n.push(s));for(var a=0,c=r.length;c>a;a++)o(r[a],!0)});break;case"[object String]":case"[object Number]":var u=t.querySelectorAll(l);if(0===u.length){console.warn(l," not found");var p={};p[i]=e[a],n.push(p)}for(var d=0,f=u.length;f>d;d++)o(u[d],e[a]);break;default:console.error("unknown type -",c," and message",e[a])}}}var n=[],r=function(t,e,o,r){return n=[],s(t,e,o,r),0!==n.length&&console.log("Some element not found in form",n),n};e.exports=r},{}],13:[function(t,e,o){"use strict";t("./shim/console"),t("./shim/Object.assign");var s;s="undefined"!=typeof sf&&"[object Object]"===Object.prototype.toString.call(sf)?Object.assign(sf,t("./sf")):t("./sf"),s.hasOwnProperty("options")||(s.options={instances:{}}),s.options.hasOwnProperty("instances")||(s.options.instances={}),window.hasOwnProperty("sf")||(window.sf=s),s.instancesController=new s.core.InstancesController(sf),s.domMutation=new s.core.DomMutations(s.instancesController),s.events=new s.core.Events,t("./core/events/baseEvents.js")(s.events),s.ajax=new s.core.Ajax(window.csrfToken?{headers:{"X-CSRF-Token":window.csrfToken}}:null),t("./core/ajax/baseActions.js")(s),s.tools.iterateInputs=t("./helpers/tools/iterateInputs.js"),s.modules.helpers.tools.iterateInputs=s.tools.iterateInputs,t("./vendor/formToObject"),t("./instances/form/Form.js"),t("./instances/lock/Lock.js"),"object"==typeof o&&o&&(e.exports=s)},{"./core/ajax/baseActions.js":6,"./core/events/baseEvents.js":7,"./helpers/tools/iterateInputs.js":12,"./instances/form/Form.js":14,"./instances/lock/Lock.js":16,"./sf":17,"./shim/Object.assign":18,"./shim/console":19,"./vendor/formToObject":20}],14:[function(require,module,exports){"use strict";!function(sf){var formMessages=require("./formMessages"),Form=function(t,e,o){this._construct(t,e,o)};Form.prototype=Object.create(sf.modules.core.BaseDOMConstructor.prototype),Form.prototype.name="form",Form.prototype._construct=function(t,e,o){var s={groupSelector:".item-form",groupTemplate:'<span class="msg" data->${message}<button class="btn-close">×</button></span>',groupCloseSelector:".btn-close",formMessageTemplate:'<div class="alert form-msg ${type}"><button class="btn-close">×</button><div class="msg">${message}</div></div>',formMessageCloseSelector:".btn-close"};this.init(t,e,o),this.options.messagesOptions=t.modules.helpers.tools.extend(s,this.options.messagesOptions||{}),this.options.fillFrom&&this.fillFieldsFrom(),this.DOMEvents=new this.sf.modules.helpers.DOMEvents,this.addEvents(),this.events=new this.sf.modules.core.Events(["beforeSend","success","error","always"])},Form.prototype.optionsToGrab={context:{processor:function(t,e){return t}},self:{processor:function(t,e){return this}},url:{domAttr:"action",value:"/"},method:{domAttr:"method",value:"POST"},lockType:{value:"default",domAttr:"data-lockType"},messagesType:{value:"spiral",domAttr:"data-messagesType"},messages:{value:"",domAttr:"data-messages",processor:function(t,e,o){if(void 0===e||null==e)return this.value;if("string"==typeof e)try{e=JSON.parse(e)}catch(s){console.error("Form JSON.parse error: ",s)}return Object.assign(o.value,e)}},useAjax:{value:!0,domAttr:"data-useAjax",processor:function(t,e){return"boolean"==typeof e?e:(e=void 0!==e&&null!==e?e.toLowerCase():"","false"===e?e=!1:"true"===e&&(e=!0),e)}},ajaxCallback:{value:!1,domAttr:"data-callback"},beforeSubmitCallback:{value:!1,domAttr:"data-before-submit"},afterSubmitCallback:{value:!1,domAttr:"data-after-submit"},headers:{value:{Accept:"application/json"},domAttr:"data-headers",processor:function(t,e,o){if(void 0===e||null==e)return this.value;if("string"==typeof e)try{e=JSON.parse(e)}catch(s){console.error("Form JSON.parse error: ",s)}return Object.assign(o.value,e)}}},Form.prototype.onSubmit=function(t){return this.sf.instancesController.getInstance("lock",this.node)?(t.preventDefault(),void t.stopPropagation()):(this.processMessages(!0),this.options.data=this.getFormData(),window.FormData||0===this.options.context.querySelectorAll("input[type='file']").length||(this.options.useAjax=!1),this.events.trigger("beforeSend",this.options),void(this.options.useAjax&&(this.send(this.options),t.preventDefault(),t.stopPropagation())))},Form.prototype.lock=function(t){this.options.lockType&&"none"!==this.options.lockType&&(t?this.sf.instancesController.removeInstance("lock",this.node)||console.warn("You try to remove 'lock' instance, but it is not available or not started"):this.sf.instancesController.addInstance("lock",this.node,{type:this.options.lockType})||console.warn("You try to add 'lock' instance, but it is not available or already started"))},Form.prototype.processMessages=function(t){this.options.messagesType&&("[object Object]"===Object.prototype.toString.call(t)?formMessages.show(this,t):formMessages.clear(this))},Form.prototype.send=function(sendOptions){var that=this;if(this.lock(),sendOptions.beforeSubmitCallback){var fn=eval(sendOptions.beforeSubmitCallback);"function"==typeof fn&&fn.call(sendOptions)}this.sf.ajax.send(sendOptions).then(function(t){return that.events.trigger("success",sendOptions),t},function(t){return that.events.trigger("error",sendOptions),t}).then(function(t){that.lock(!0),that.processMessages(t),that.events.trigger("always",sendOptions)})},Form.prototype.getFormData=function(){return window.FormData?new FormData(this.options.context):(console.log("Form `"+this.options.context+"` were processed without FormData."),new formToObject(this.options.context))},Form.prototype.setOptions=function(t){this.options=this.sf.modules.helpers.tools.extend(this.options,t)},Form.prototype.addEvents=function(){var t=this;this.DOMEvents.add([{DOMNode:this.options.context,eventType:"submit",eventFunction:function(e){t.onSubmit.call(t,e)}}])},Form.prototype.die=function(){this.DOMEvents.removeAll()},sf.instancesController.registerInstanceType(Form,"js-sf-form")}(sf)},{"./formMessages":15}],15:[function(t,e,o){"use strict";function s(t){var e=t.sf.options.instances.form;return Object.assign(l,e&&e.messages&&e.messages[t.options.messagesType],t.options.messages)}function n(){this.removeEventListener("click",n);var t=this.parentNode;t.parentNode.removeChild(t)}function r(t,e,o){var s,r,a={message:e,type:o},i=p.formMessageTemplate,c=new DOMParser;for(var l in a)a.hasOwnProperty(l)&&(i=i.replace("${"+l+"}",a[l]));s=c.parseFromString(i,"text/html").firstChild.lastChild.firstChild,"bottom"===p.messagePosition?t.node.appendChild(s):"top"===p.messagePosition?t.node.insertBefore(s,t.node.firstChild):(r=document.querySelector(p.messagePosition),r.appendChild(s));var u=s.querySelector(p.formMessageCloseSelector);u&&u.addEventListener("click",n)}function a(t,e,o){var s=new DOMParser;i(t.node,e,function(t,e){var r,a=c.closest(t,p.groupSelector),i={message:e},l=p.groupTemplate;if(a){a.classList.add(o);for(var d in i)i.hasOwnProperty(d)&&(l=l.replace("${"+d+"}",i[d]));if(r=s.parseFromString(l,"text/html").firstChild.lastChild.firstChild,u||(u=r.className?r.className:"sf-group-message"),r.classList.add(u),"bottom"===p.messagesPosition)a.appendChild(r);else if("top"===p.messagesPosition)a.insertBefore(r,a.firstChild);else{var f=a.querySelector(p.messagesPosition);f.appendChild(r)}var h=r.querySelector(p.groupCloseSelector);h&&h.addEventListener("click",n)}})}var i=t("../../helpers/tools/iterateInputs"),c=t("../../helpers/domTools"),l={groupSelector:".item-form",groupTemplate:'<span class="msg" data->${message}<button class="btn-close">×</button></span>',groupCloseSelector:".btn-close",messagesPosition:"bottom",formMessageTemplate:'<div class="alert form-msg ${type}"><button class="btn-close">×</button><div class="msg">${message}</div></div>',formMessageCloseSelector:".btn-close",messagePosition:"bottom"},u="",p={};e.exports={show:function(t,e){if(e){var o=!1;t.sf.options.instances.form;if(p=s(t),console.log(p),e.message&&(r(t,e.message.text||e.message,e.message.type||"success"),o=!0),e.error&&(r(t,e.error,"error"),o=!0),e.warning&&(r(t,e.warning,"warning"),o=!0),e.messages&&(a(t,e.messages,"success"),o=!0),e.errors&&(a(t,e.errors,"error"),o=!0),e.warnings&&(a(t,e.warnings,"warning"),o=!0),!o){var n=e.status?e.status+" ":"";n+=e.statusText?e.statusText:"",n+=e.data&&!e.statusText?e.data:"",n+=0===n.length?e:"",r(t,n,"error")}}},clear:function(t){var e,o,r,a;if(p=s(t),e="bottom"===p.messagePosition||"top"===p.messagePosition?t.node.getElementsByClassName("form-msg")[0]:document.querySelector(p.messagePosition+">.form-msg"),e&&(e.getElementsByClassName("btn-close")[0].removeEventListener("click",n),e.parentNode.removeChild(e)),u){var i=t.node.querySelectorAll(p.groupSelector+" ."+u);for(o=0,r=i.length;r>o;o++)a=i[o].parentNode,a.removeChild(i[o]),a.classList.remove("error","success","warning","info")}}}},{"../../helpers/domTools":10,"../../helpers/tools/iterateInputs":12}],16:[function(t,e,o){"use strict";!function(t){var e=function(t,e,o){this._construct(t,e,o)};e.prototype=Object.create(t.modules.core.BaseDOMConstructor.prototype),e.prototype.name="lock",e.prototype._construct=function(t,e,o){this.init(t,e,o),this.add(this.options.type,this.node)},e.prototype.add=function(t,e){if(!this.types.hasOwnProperty(t))return!1;var o=document.createElement("div");return o.className=this.types[t].className||"js-sf-lock",o.innerHTML=this.types[t].html,e.appendChild(o),e.classList.add("locked"),this.types[t].progress},e.prototype.die=function(){this.remove()},e.prototype.remove=function(){this.node.classList.remove("locked");var t=this.node.querySelector(".js-sf-lock");return t&&this.node.removeChild(t),!0},e.prototype.types={spinner:{html:'<div class="sf-spinner"></div>'},progress:{html:'<div class="sf-progress"><div class="progress-line"></div></div>',progress:function(t,e){var o=this.context.getElementsByClassName("progress-line")[0];o.style.width=100*(t/e)+"%"}}},e.prototype.types["default"]=e.prototype.types.spinner,t.instancesController.registerInstanceType(e)}(sf)},{}],17:[function(t,e,o){var s={Ajax:t("./core/Ajax"),BaseDOMConstructor:t("./core/BaseDOMConstructor"),DomMutations:t("./core/DomMutations"),Events:t("./core/Events"),InstancesController:t("./core/InstancesController")},n={DOMEvents:t("./helpers/DOMEvents"),domTools:t("./helpers/domTools"),LikeFormData:t("./helpers/LikeFormData"),tools:t("./helpers/tools")},r={core:s,helpers:n,tools:n.tools,modules:{WILL_BE_DEPRECATED:!0,core:s,helpers:n}};e.exports=r},{"./core/Ajax":1,"./core/BaseDOMConstructor":2,"./core/DomMutations":3,"./core/Events":4,"./core/InstancesController":5,"./helpers/DOMEvents":8,"./helpers/LikeFormData":9,"./helpers/domTools":10,"./helpers/tools":11}],18:[function(t,e,o){"function"!=typeof Object.assign&&!function(){Object.assign=function(t){"use strict";if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),o=1;o<arguments.length;o++){var s=arguments[o];if(void 0!==s&&null!==s)for(var n in s)s.hasOwnProperty(n)&&(e[n]=s[n])}return e}}()},{}],19:[function(t,e,o){!function(){for(var t,e=function(){},o=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],s=o.length,n=window.console=window.console||{};s--;)t=o[s],n[t]||(n[t]=e)}()},{}],20:[function(t,e,o){!function(){var t=function(t){return t?(this.formRef=t,this.keyRegex=/[^\[\]]+/g,this.$form=null,this.$formElements=[],this.formObj={},this.setForm()&&this.setFormElements()?this.setFormObj():!1):!1};t.prototype.setForm=function(){switch(typeof this.formRef){case"string":this.$form=document.getElementById(this.formRef);break;case"object":this.isDomNode(this.formRef)&&(this.$form=this.formRef)}return this.$form},t.prototype.setFormElements=function(){return this.$formElements=this.$form.querySelectorAll("input, textarea, select"),this.$formElements.length},t.prototype.isDomNode=function(t){return"object"==typeof t&&"nodeType"in t&&1===t.nodeType},t.prototype.forEach=function(t,e){if([].forEach)return[].forEach.call(t,e);var o;for(o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(t,t[o])},t.prototype.addChild=function(t,e,o,s){if(1===o.length){if("INPUT"===e.nodeName&&"radio"===e.type)return e.checked?t[o]=s:void 0;if("INPUT"===e.nodeName&&"checkbox"===e.type)return e.checked?(t[o]||(t[o]=[]),t[o].push(s)):void 0;if("SELECT"===e.nodeName&&"select-multiple"===e.type){t[o]=[];var n=e.querySelectorAll("option[selected]");return void(n&&this.forEach(n,function(e){t[o].push(e.value)}))}t[o]=s}return o.length>1?(t[o[0]]||(t[o[0]]={}),this.addChild(t[o[0]],e,o.splice(1,o.length),s)):t},t.prototype.setFormObj=function(){var t,e=0;for(e=0;e<this.$formElements.length;e++)this.$formElements[e].name&&!this.$formElements[e].disabled&&(t=this.$formElements[e].name.match(this.keyRegex),this.addChild(this.formObj,this.$formElements[e],t,this.$formElements[e].value));return this.formObj},"function"==typeof define&&define.amd?define(function(){return t}):window.formToObject=t}()},{}]},{},[13]);
//# sourceMappingURL=sf.min.js.map
